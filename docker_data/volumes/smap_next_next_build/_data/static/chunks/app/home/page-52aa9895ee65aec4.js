(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8620],{23204:(e,n,t)=>{"use strict";t.d(n,{Cu:()=>r,aQ:()=>s});var o=t(49509);let r={GOOGLE_MAPS_API_KEY:"AIzaSyBkWlND5fvW4tmxaj11y24XNs_LQfplwpw",NAVER_MAPS_CLIENT_ID:"unxdi5mt3f",NAVER_MAPS_API_KEY:"bKRzkFBbAvfdHDTZB0mJ81jmO8ufULvQavQIQZmp",MAPBOX_ACCESS_TOKEN:o.env.NEXT_PUBLIC_MAPBOX_ACCESS_TOKEN||"",KAKAO_JAVASCRIPT_KEY:"e7e1c921e506e190875b4c8f4321c5ac",KAKAO_NATIVEAPP_KEY:"56b34b5e5e538073805559cabc81e1d8",KAKAO_REST_API_KEY:"bc7899314df5dc2bebcb2a7960ac89bf",FIREBASEKEY:"BOCzkX45zE3u0HFfNpfZDbUHH33OHNoe3k5KeTalEesHgnaBqCykjJUxnDcS6mv9MPSxU8EV3QHCL61gmwzkXlE",NCP_ACCESS_KEY:"ncp_iam_BPAMKR5amCXCgRSDodA7",NCP_SECRET_KEY:"ncp_iam_BPKMKR3E8B8h1J0FhAafnW8Cw83IKvDohl"},s={NAVER:{ALLOWED_DOMAINS:["app2.smap.site","app.smap.site","smap.site","localhost","127.0.0.1"],DEFAULT_OPTIONS:{mapTypeControl:!1,scaleControl:!1,zoom:16}},GOOGLE:{DEFAULT_OPTIONS:{mapTypeControl:!1,fullscreenControl:!1,streetViewControl:!1,zoom:16}},MAPBOX:{DEFAULT_OPTIONS:{style:"mapbox://styles/mapbox/streets-v11",zoom:16}}};o.env.NEXT_PUBLIC_API_BASE_URL},25873:(e,n,t)=>{"use strict";t.d(n,{A:()=>r});var o=t(95155);t(12115);let r=e=>{let{message:n="Loading...",fullScreen:t=!0}=e;return t?(0,o.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center fixed inset-0 z-50",children:[(0,o.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-10 w-10 text-indigo-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,o.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,o.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,o.jsx)("p",{className:"mt-2 text-lg font-medium text-gray-700",children:n})]}):(0,o.jsxs)("div",{className:"flex items-center justify-center py-2",children:[" ",(0,o.jsxs)("svg",{className:"animate-spin h-5 w-5 text-indigo-600 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:["  ",(0,o.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,o.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,o.jsx)("span",{className:"text-sm font-medium text-gray-700",children:n})," "]})}},28196:(e,n,t)=>{Promise.resolve().then(t.bind(t,39839))},39839:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>I,dynamic:()=>M});var o,r=t(95155),s=t(11518),i=t.n(s),a=t(12115),l=t(6874),c=t.n(l),d=t(35695),u=t(40714),h=t(83637),p=t(20480),g=t(26314);"function"==typeof SuppressedError&&SuppressedError;var m=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(function e(n,t){if(n===t)return!0;if(n&&t&&"object"==typeof n&&"object"==typeof t){if(n.constructor!==t.constructor)return!1;if(Array.isArray(n)){if((o=n.length)!=t.length)return!1;for(r=o;0!=r--;)if(!e(n[r],t[r]))return!1;return!0}if(n.constructor===RegExp)return n.source===t.source&&n.flags===t.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===t.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===t.toString();if((o=(s=Object.keys(n)).length)!==Object.keys(t).length)return!1;for(r=o;0!=r--;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;for(r=o;0!=r--;){var o,r,s,i=s[r];if(!e(n[i],t[i]))return!1}return!0}return n!=n&&t!=t});let f="__googleMapsScriptId";!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(o||(o={}));class x{constructor({apiKey:e,authReferrerPolicy:n,channel:t,client:o,id:r=f,language:s,libraries:i=[],mapIds:a,nonce:l,region:c,retries:d=3,url:u="https://maps.googleapis.com/maps/api/js",version:h}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=n,this.channel=t,this.client=o,this.id=r||f,this.language=s,this.libraries=i,this.mapIds=a,this.nonce=l,this.region=c,this.retries=d,this.url=u,this.version=h,x.instance){if(!m(this.options,x.instance.options))throw Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(x.instance.options)}`);return x.instance}x.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?o.FAILURE:this.done?o.SUCCESS:this.loading?o.LOADING:o.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){let e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,n)=>{this.loadCallback(t=>{t?n(t.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,n;if(document.getElementById(this.id))return void this.callback();let t={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(t).forEach(e=>!t[e]&&delete t[e]),(null==(n=null==(e=null==window?void 0:window.google)?void 0:e.maps)?void 0:n.importLibrary)||(e=>{let n,t,o,r="The Google Maps JavaScript API",s="google",i="importLibrary",a="__ib__",l=document,c=window,d=(c=c[s]||(c[s]={})).maps||(c.maps={}),u=new Set,h=new URLSearchParams,p=()=>n||(n=new Promise((i,c)=>{var p,g,m,f;return p=this,g=void 0,m=void 0,f=function*(){var p;for(o in yield t=l.createElement("script"),t.id=this.id,h.set("libraries",[...u]+""),e)h.set(o.replace(/[A-Z]/g,e=>"_"+e[0].toLowerCase()),e[o]);h.set("callback",s+".maps."+a),t.src=this.url+"?"+h,d[a]=i,t.onerror=()=>n=c(Error(r+" could not load.")),t.nonce=this.nonce||(null==(p=l.querySelector("script[nonce]"))?void 0:p.nonce)||"",l.head.append(t)},new(m||(m=Promise))(function(e,n){function t(e){try{r(f.next(e))}catch(e){n(e)}}function o(e){try{r(f.throw(e))}catch(e){n(e)}}function r(n){var r;n.done?e(n.value):((r=n.value)instanceof m?r:new m(function(e){e(r)})).then(t,o)}r((f=f.apply(p,g||[])).next())})}));d[i]?console.warn(r+" only loads once. Ignoring:",e):d[i]=(e,...n)=>u.add(e)&&p().then(()=>d[i](e,...n))})(t);let o=this.libraries.map(e=>this.importLibrary(e));o.length||o.push(this.importLibrary("core")),Promise.all(o).then(()=>this.callback(),e=>{let n=new ErrorEvent("error",{error:e});this.loadErrorCallback(n)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){let e=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${e} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},e)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var w=t(25873),v=t(23204);let b={GOOGLE:v.Cu.GOOGLE_MAPS_API_KEY,NAVER_CLIENT_ID:v.Cu.NAVER_MAPS_CLIENT_ID},y=(e,n)=>{n.current&&(n.current.setMap(null),n.current=null),e.current=null},j=(e,n)=>{n.current&&(n.current.setMap(null),n.current=null),e.current&&"function"==typeof e.current.destroy&&e.current.destroy(),e.current=null},N=b.GOOGLE,E=b.NAVER_CLIENT_ID,k=[{id:"1",title:"스타벅스 강남점",distance:.3,address:"서울시 강남구 역삼동 123-45",tel:"02-1234-5678",url:"https://www.starbucks.co.kr"},{id:"2",title:"투썸플레이스 서초점",distance:.5,address:"서울시 서초구 서초동 456-78",tel:"02-2345-6789",url:"https://www.twosome.co.kr"}],S=[{id:"1",name:"김철수",photo:"/images/avatar3.png",isSelected:!1,location:{lat:37.5692,lng:127.0016+.002},schedules:[{id:"m1-1",title:"팀 회의",date:"오늘 14:00",location:"강남 사무실"},{id:"m1-2",title:"저녁 약속",date:"오늘 19:00",location:"이탈리안 레스토랑"}]},{id:"2",name:"이영희",photo:"/images/avatar1.png",isSelected:!1,location:{lat:37.5612,lng:126.9966},schedules:[{id:"m2-1",title:"프로젝트 발표",date:"내일 10:00",location:"회의실 A"}]},{id:"3",name:"박민수",photo:"/images/avatar2.png",isSelected:!1,location:{lat:37.5662,lng:126.9986},schedules:[{id:"m3-1",title:"주간 회의",date:"수요일 11:00",location:"본사 대회의실"},{id:"m3-2",title:"고객 미팅",date:"목요일 15:00",location:"강남 오피스"}]}],L=new x({apiKey:N,version:"weekly",libraries:["places"],id:"google-maps-script"}),C={google:!1,naver:!1},A="\n@keyframes slideUp {\n  from {\n    transform: translateY(100%);\n  }\n  to {\n    transform: translateY(0);\n  }\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n.animate-slideUp {\n  animation: slideUp 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards;\n}\n\n.animate-fadeIn {\n  animation: fadeIn 0.2s cubic-bezier(0.4, 0, 0.2, 1) forwards;\n}\n\n/* 지도 화면 전체 차지하기 위한 스타일 */\n.full-map-container {\n  position: fixed;\n  top: 0; /* 헤더 아래부터 시작하지 않고 화면 최상단부터 시작 */\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100vw;\n  height: 100vh;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n  z-index: 5;\n}\n\n.map-wrapper {\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  top: 60px; /* 헤더 높이만큼 아래에서 시작 */\n  left: 0;\n  right: 0;\n  bottom: 0;\n  margin: 0;\n  padding: 0;\n}\n\n/* Bottom Sheet 스타일 */\n.bottom-sheet {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-color: white;\n  border-top-left-radius: 16px;\n  border-top-right-radius: 16px;\n  box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.1);\n  transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n  z-index: 40;\n  max-height: 90vh;\n  overflow-y: auto;\n  touch-action: pan-y;\n  padding-bottom: 20px;\n  will-change: transform;\n}\n\n.bottom-sheet-handle {\n  width: 40px;\n  height: 5px;\n  background-color: #e2e8f0;\n  border-radius: 3px;\n  margin: 8px auto;\n  cursor: grab;\n}\n\n.bottom-sheet-handle:active {\n  cursor: grabbing;\n}\n\n.bottom-sheet-collapsed {\n  transform: translateY(calc(100% - 100px));\n  height: 100vh;\n}\n\n.bottom-sheet-middle {\n  transform: translateY(65%);\n  height: 100vh;\n}\n\n.bottom-sheet-expanded {\n  transform: translateY(0%);\n  height: 100vh;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n}\n\n/* 맵 헤더 스타일 - 바텀시트 위치에 따라 이동하도록 수정 */\n.map-header {\n  position: fixed;\n  left: 16px;\n  right: auto;\n  width: 60px;\n  z-index: 100;\n  background-color: rgba(0, 0, 0, 0.7); /* 어두운 배경색으로 변경 */\n  color: white; /* 텍스트 색상을 흰색으로 변경 */\n  padding: 6px 8px;\n  border-radius: 12px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n  transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1), bottom 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n  max-width: 60px;\n}\n\n.map-controls {\n  position: fixed;\n  right: 16px;\n  z-index: 100;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1), bottom 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n/* 바텀시트 상태에 따른 헤더 위치 */\n.header-collapsed {\n  bottom: 120px; /* 바텀시트 높이(150px) + 간격(15px) */\n  top: auto;\n  opacity: 1;\n}\n\n.header-middle {\n  bottom: calc(33vh + 10px); \n  top: auto;\n  opacity: 1;\n}\n\n.header-expanded {\n  opacity: 0;\n  visibility: hidden;\n}\n\n/* 컨트롤 버튼 위치 별도 관리 */\n.controls-collapsed {\n  bottom: 120px; /* 바텀시트 높이(150px) + 간격(15px) - 헤더와 동일한 위치 */\n  top: auto;\n  opacity: 1;\n}\n\n.controls-middle {\n  bottom: calc(33vh + 10px); /* 바텀시트 중간 높이 + 간격(15px) - 헤더와 동일한 위치 */\n  top: auto;\n  opacity: 1;\n}\n\n.controls-expanded {\n  opacity: 0;\n  visibility: hidden;\n}\n\n.map-control-button {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(0, 0, 0, 0.7);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  color: #EEF2FF;\n  transition: all 0.2s;\n}\n\n.map-control-button:hover {\n  background-color: rgba(0, 0, 0, 0.7);\n  transform: translateY(-1px);\n  box-shadow: 0 3px 5px rgba(0, 0, 0, 0.15);\n}\n\n/* 섹션 구분선 스타일 추가 */\n.section-divider {\n  height: 1px;\n  background: #f2f2f2;\n  margin: 16px 0;\n  width: 100%;\n}\n\n.section-title {\n  margin-bottom: 16px;\n  padding-bottom: 8px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n  color: #424242;\n  font-weight: normal;\n}\n\n.content-section {\n  padding: 16px;\n  background-color: #ffffff;\n  border-radius: 12px;\n  margin-bottom: 16px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\n  position: relative;\n  overflow: hidden;\n}\n\n.content-section::before {\n  content: '';\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  width: 4px;\n}\n\n.members-section {\n  background: linear-gradient(to right, rgba(22, 163, 74, 0.03), transparent); /* Indigo to Green gradient */\n}\n\n.members-section::before {\n  background-color: #16A34A; /* Indigo (#4F46E5) to Green-600 (#16A34A) */\n}\n\n.schedule-section {\n  background: linear-gradient(to right, rgba(236, 72, 153, 0.03), transparent);\n}\n\n.schedule-section::before {\n  background-color: #EC4899; /* 핑크 색상 */\n}\n\n.places-section {\n  background: linear-gradient(to right, rgba(234, 179, 8, 0.03), transparent);\n}\n\n.places-section::before {\n  background-color: #EAB308; /* 노란색 색상 */\n}\n\n/* 스크롤바 숨김 스타일 */\n.hide-scrollbar {\n  scrollbar-width: none; /* Firefox */\n  -ms-overflow-style: none; /* IE and Edge */\n}\n.hide-scrollbar::-webkit-scrollbar {\n  display: none; /* Chrome, Safari, Opera */\n}\n",M="force-dynamic";function I(){var e,n;let t=(0,d.useRouter)(),[o,s]=(0,a.useState)("사용자"),[l,m]=(0,a.useState)({lat:37.5642,lng:127.0016}),[f,x]=(0,a.useState)("서울시"),[b,N]=(0,a.useState)(k),[M,I]=(0,a.useState)([{id:"1",title:"팀 미팅",date:"오늘 14:00",location:"강남 사무실"},{id:"2",title:"프로젝트 발표",date:"내일 10:00",location:"회의실 A"},{id:"3",title:"주간 회의",date:"수요일 11:00",location:"본사 대회의실"}]),[_,P]=(0,a.useState)([{id:"1",name:"회사",address:"서울시 강남구 테헤란로 123"},{id:"2",name:"자주 가는 카페",address:"서울시 강남구 역삼동 234"}]),[O,R]=(0,a.useState)(S),[T,z]=(0,a.useState)([]),[F,B]=(0,a.useState)(""),[D,G]=(0,a.useState)({temp:"22\xb0C",condition:"맑음",icon:"☀️"}),[K,U]=(0,a.useState)(!0),[Y,V]=(0,a.useState)(!1),[W,H]=(0,a.useState)("naver"),[$,Z]=(0,a.useState)(!1),[X,Q]=(0,a.useState)(!1),[J,q]=(0,a.useState)([]),ee=(0,a.useRef)(null),en=(0,a.useRef)(null),et=(0,a.useRef)(null),eo=(0,a.useRef)(null),er=(0,a.useRef)(null),es=(0,a.useRef)(null),ei=(0,a.useRef)([]),[ea,el]=(0,a.useState)({google:!1,naver:!1}),[ec,ed]=(0,a.useState)("collapsed"),eu=(0,a.useRef)(null),eh=(0,a.useRef)(null),ep=(0,a.useRef)(null),eg=(0,a.useRef)(null),em=(0,a.useRef)(!1),ef=(0,a.useRef)(0),ex=e=>{var n;let t="touches"in e?e.touches[0].clientY:e.clientY;if(eh.current=t,ep.current=t,eg.current=Date.now(),em.current=!0,ef.current=(null==(n=eu.current)?void 0:n.scrollTop)||0,eu.current){eu.current.style.transition="none";let e=document.querySelector(".map-header"),n=document.querySelector(".map-controls");e&&(e.style.transition="none"),n&&(n.style.transition="none")}},ew=e=>{if(null===eh.current||!eu.current||null===ep.current)return;let n="touches"in e?e.touches[0].clientY:e.clientY,t=n-ep.current;if(Math.abs(t)>5){ep.current=n;let e=getComputedStyle(eu.current).transform,o=0;"none"!==e&&(o=new DOMMatrixReadOnly(e).m42);let r=o+t,s=.6*window.innerHeight;r=Math.max(0-.1*window.innerHeight,Math.min(r,s+50)),eu.current.style.transform="translateY(".concat(r,"px)"),eu.current.style.transition="none"}},ev=e=>{if(null===eh.current||!eu.current||null===ep.current)return;let n=("changedTouches"in e?e.changedTouches[0].clientY:e.clientY)-eh.current,t=eg.current?Date.now()-eg.current:0;if(Math.abs(n)>10||t>200){let e;eu.current.style.transition="transform 0.5s cubic-bezier(0.4, 0, 0.2, 1)";let o=t>0?n/t:0,r=getComputedStyle(eu.current).transform,s=0;"none"!==r&&(s=new DOMMatrixReadOnly(r).m42);let i=window.innerHeight,a=.5*i;ed(Math.abs(o)>.5?o<0?s<a?"expanded":"middle":s>a?"collapsed":"middle":s<.2*i?"expanded":s<a?"middle":"collapsed")}eu.current.style.transform="",eh.current=null,ep.current=null,eg.current=null};(0,a.useEffect)(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{let{longitude:n,latitude:t}=e.coords;m({lat:t,lng:n}),V(!0),x("현재 위치")},e=>{console.log("위치 정보를 가져올 수 없습니다:",e),V(!1)})},[]),(0,a.useEffect)(()=>{H("naver")},[]);let eb=async()=>{var e;if(C.google||(null==(e=window.google)?void 0:e.maps)){console.log("Google Maps API가 이미 로드되어 있습니다."),Z(!0),C.google=!0;return}try{console.log("Google Maps API 로드 시작"),await L.load(),console.log("Google Maps API가 성공적으로 로드되었습니다."),C.google=!0,Z(!0)}catch(e){console.error("Google Maps API 로드 오류:",e)}},ey=()=>{var e;if(C.naver||(null==(e=window.naver)?void 0:e.maps)){console.log("Naver Maps API가 이미 로드되어 있습니다."),Q(!0),C.naver=!0;return}console.log("Naver Maps API 로드 시작");let n=new URL("https://openapi.map.naver.com/openapi/v3/maps.js");n.searchParams.append("ncpClientId",E),n.searchParams.append("submodules","panorama,geocoder,drawing,visualization");let t=document.createElement("script");t.src=n.toString(),t.async=!0,t.defer=!0,t.id="naver-maps-script",t.onload=()=>{console.log("Naver Maps API가 성공적으로 로드되었습니다."),C.naver=!0,Q(!0)},t.onerror=()=>{console.error("네이버 지도 스크립트 로드 실패"),H("google")};let o=document.getElementById("naver-maps-script");o&&o.remove(),document.head.appendChild(t)},ej=()=>{if(!ee.current||!$||!window.google||!window.google.maps)return void console.log("Google Maps 초기화를 위한 조건이 충족되지 않음");try{if(et.current){et.current.setCenter(l),eo.current&&eo.current.setPosition(l);return}console.log("Google Maps 초기화 시작"),U(!0);let e={...v.aQ.GOOGLE.DEFAULT_OPTIONS,center:l,disableDefaultUI:!0,zoomControl:!1,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1};et.current=new window.google.maps.Map(ee.current,e),eo.current=new window.google.maps.Marker({position:l,map:et.current,icon:{path:window.google.maps.SymbolPath.CIRCLE,fillColor:"#4F46E5",fillOpacity:1,strokeColor:"#FFFFFF",strokeWeight:2,scale:8}}),window.google.maps.event.addListenerOnce(et.current,"tilesloaded",()=>{U(!1),el(e=>({...e,google:!0})),console.log("Google Maps 타일 로딩 완료")}),console.log("Google Maps 초기화 완료")}catch(e){console.error("Google Maps 초기화 오류:",e),U(!1)}},eN=()=>{if(!en.current||!X||!window.naver||!window.naver.maps)return void console.log("Naver Maps 초기화를 위한 조건이 충족되지 않음");try{if(er.current){let e=new window.naver.maps.LatLng(l.lat,l.lng);er.current.setCenter(e),es.current&&es.current.setPosition(e);return}console.log("Naver Maps 초기화 시작"),U(!0);let e=window.location.hostname,n=window.location.port,t="".concat(e).concat(n?":"+n:"");console.log("현재 도메인: ".concat(t)),console.log("네이버 지도 허용 도메인 목록:",v.aQ.NAVER.ALLOWED_DOMAINS);let o=!1,r=window.naver.maps.Event.addListener(window.naver.maps,"auth_failure",function(e){o=!0,console.error("네이버 지도 인증 실패:",e),console.error("현재 URL(".concat(window.location.href,")이 네이버 지도 API에 등록되어 있는지 확인하세요.")),console.error('네이버 클라우드 플랫폼 콘솔에서 "Application > Maps > Web 호스팅 URL"에 현재 도메인을 추가해야 합니다.'),U(!1)});try{let e={...v.aQ.NAVER.DEFAULT_OPTIONS,center:new window.naver.maps.LatLng(l.lat,l.lng),logoControl:!1,logoControlOptions:{position:window.naver.maps.Position.BOTTOM_LEFT},mapDataControl:!1,scaleControl:!1,mapTypeControl:!1};er.current=new window.naver.maps.Map(en.current,e);let n=window.naver.maps.Event.addListener(er.current,"init",()=>{if(!o&&er.current)try{es.current=new window.naver.maps.Marker({position:new window.naver.maps.LatLng(l.lat,l.lng),map:er.current,icon:{content:'<div style="width: 16px; height: 16px; background-color: #4F46E5; border: 2px solid #FFFFFF; border-radius: 50%;"></div>',size:new window.naver.maps.Size(16,16),anchor:new window.naver.maps.Point(8,8)}}),console.log("Naver Maps 마커 생성 완료")}catch(e){console.error("네이버 지도 마커 생성 오류:",e)}U(!1),el(e=>({...e,naver:!0})),console.log("Naver Maps 초기화 완료"),window.naver.maps.Event.removeListener(r),window.naver.maps.Event.removeListener(n)})}catch(e){console.error("Naver Maps 객체 생성 오류:",e),window.naver.maps.Event.removeListener(r),U(!1)}}catch(e){console.error("Naver Maps 초기화 오류:",e),U(!1)}};(0,a.useEffect)(()=>{"naver"!==W||C.naver?"google"!==W||C.google||eb():ey()},[W]),(0,a.useEffect)(()=>{"naver"===W&&X?(ee.current&&(ee.current.style.display="none"),en.current&&(en.current.style.display="block"),y(et,eo),eN()):"google"===W&&$&&(ee.current&&(ee.current.style.display="block"),en.current&&(en.current.style.display="none"),j(er,es),ej())},[l,W,$,X]),(0,a.useEffect)(()=>()=>{j(er,es),y(et,eo);let e=document.getElementById("naver-maps-script");e&&document.head.removeChild(e),C.google=!1,C.naver=!1},[]),(0,a.useEffect)(()=>{if(O.length>0&&("naver"===W&&ea.naver||"google"===W&&ea.google)){console.log("지도 초기화 완료 후 첫 번째 멤버 선택:",O[0].name);let e=setTimeout(()=>{eE(O[0].id)},500);return()=>clearTimeout(e)}},[]),(0,a.useEffect)(()=>{if(("naver"===W&&ea.naver||"google"===W&&ea.google)&&O.length>0){console.log("지도 초기화 감지 - 첫 번째 멤버 선택:",O[0].name);let e=setTimeout(()=>{eE(O[0].id)},500);return()=>clearTimeout(e)}},[ea.naver,ea.google,W]);let eE=e=>{console.log("멤버 선택 실행:",e);let n=O.map(n=>n.id===e?{...n,isSelected:!n.isSelected}:{...n,isSelected:!1});R(n);let t=n.find(e=>e.isSelected);t?(z(t.schedules),console.log("선택된 멤버:",t.name,t.location)):z(M),ek(n)},ek=e=>{ei.current.length>0&&(ei.current.forEach(e=>{"naver"===W&&er.current?e.setMap(null):"google"===W&&et.current&&e.setMap(null)}),ei.current=[]);let n=e.filter(e=>e.isSelected);if(n.length>0){if(n.forEach(e=>{if("naver"===W&&er.current&&X){let n=new window.naver.maps.Marker({position:new window.naver.maps.LatLng(e.location.lat,e.location.lng),map:er.current,icon:{content:'\n                <div style="position: relative; text-align: center;">\n                  <div style="width: 40px; height: 40px; background-color: white; border: 2px solid #4F46E5; border-radius: 50%; overflow: hidden; display: flex; align-items: center; justify-content: center;">\n                    <img src="'.concat(e.photo,'" alt="').concat(e.name,'" style="width: 100%; height: 100%; object-fit: cover;" />\n                  </div>\n                  <div style="position: absolute; bottom: -20px; left: 50%; transform: translateX(-50%); background-color:rgba(0,0,0,0.7); color: white; padding: 2px 6px; border-radius: 4px; white-space: nowrap; font-size: 10px;">\n                    ').concat(e.name,"\n                  </div>\n                </div>\n              "),size:new window.naver.maps.Size(40,40),anchor:new window.naver.maps.Point(20,20)}});ei.current.push(n)}else if("google"===W&&et.current&&$){let n=new window.google.maps.Marker({position:e.location,map:et.current,title:e.name,icon:{url:e.photo,scaledSize:new window.google.maps.Size(40,40),origin:new window.google.maps.Point(0,0),anchor:new window.google.maps.Point(20,20),labelOrigin:new window.google.maps.Point(20,50)},label:{text:e.name,color:"white",fontSize:"10px",fontWeight:"bold",background:"#4F46E5",padding:"4px 8px",borderRadius:"4px"}});ei.current.push(n)}}),1===n.length){let e=n[0];"naver"===W&&er.current&&X?(er.current.setCenter(new window.naver.maps.LatLng(e.location.lat,e.location.lng)),er.current.setZoom(17),console.log("네이버 지도 중심 이동:",e.name,e.location)):"google"===W&&et.current&&$&&(et.current.panTo(e.location),et.current.setZoom(17),console.log("구글 지도 중심 이동:",e.name,e.location))}else if(n.length>1){if("naver"===W&&er.current){let e=new window.naver.maps.LatLngBounds;n.forEach(n=>{e.extend(new window.naver.maps.LatLng(n.location.lat,n.location.lng))}),er.current.fitBounds(e)}else if("google"===W&&et.current){let e=new window.google.maps.LatLngBounds;n.forEach(n=>{e.extend(n.location)}),et.current.fitBounds(e)}}}},eS=e=>{B(e)};(0,a.useEffect)(()=>{z(M)},[M]),(0,a.useEffect)(()=>{("naver"===W&&X&&er.current||"google"===W&&$&&et.current)&&ek(O)},[W,X,$]);let eL=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{let{longitude:n,latitude:t}=e.coords;if(m({lat:t,lng:n}),V(!0),x("현재 위치"),"naver"===W&&er.current&&X){let e=new window.naver.maps.LatLng(t,n);er.current.setCenter(e),er.current.setZoom(14),es.current&&es.current.setPosition(e)}else"google"===W&&et.current&&$&&(et.current.panTo({lat:t,lng:n}),et.current.setZoom(14),eo.current&&eo.current.setPosition({lat:t,lng:n}))},e=>{console.error("위치 정보를 가져올 수 없습니다:",e)})},eC=e=>Array.from({length:7},(n,t)=>{let o=(0,u.f)(e,t);return{value:(0,h.GP)(o,"yyyy-MM-dd"),display:0===t?"오늘":(0,h.GP)(o,"MM.dd (E)",{locale:p.ko})}});(0,a.useEffect)(()=>{let e=new Date;B((0,h.GP)(e,"yyyy-MM-dd")),q(eC(e))},[]);let eA=e=>e<1?"".concat((1e3*e).toFixed(0),"m"):"".concat(e.toFixed(1),"km");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i(),{id:A.__hash,children:A}),(0,r.jsxs)(g.LN,{title:"홈",showTitle:!1,showBackButton:!1,showHeader:!1,className:"p-0 m-0 w-full h-screen",children:[(0,r.jsxs)("div",{className:"full-map-container",children:[K&&(0,r.jsx)(w.A,{message:"지도를 불러오는 중입니다..."}),(0,r.jsx)("div",{ref:ee,style:{display:"google"===W?"block":"none",zIndex:6},className:"w-full h-full absolute top-0 left-0"}),(0,r.jsx)("div",{ref:en,style:{display:"naver"===W?"block":"none",zIndex:6},className:"w-full h-full absolute top-0 left-0"})]}),(0,r.jsxs)("div",{className:"map-header ".concat((()=>{switch(ec){case"collapsed":default:return"header-collapsed";case"middle":return"header-middle";case"expanded":return"header-expanded"}})()),children:[Y&&(0,r.jsxs)("span",{className:"absolute top-1 right-1 inline-flex items-center justify-center w-2 h-2",children:[(0,r.jsx)("span",{className:"animate-ping absolute inline-flex h-2 w-2 rounded-full bg-pink-400 opacity-75"}),(0,r.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-pink-500"})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,r.jsx)("span",{className:"text-lg",children:D.icon}),(0,r.jsx)("span",{className:"text-sm font-medium",children:D.temp}),(0,r.jsx)("span",{className:"text-xs text-white",children:D.condition})]})]}),(0,r.jsx)("div",{className:"map-controls ".concat((()=>{switch(ec){case"collapsed":default:return"controls-collapsed";case"middle":return"controls-middle";case"expanded":return"controls-expanded"}})()),children:(0,r.jsx)("button",{onClick:()=>eL(),"aria-label":"내 위치로 이동",className:"map-control-button",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"h-5 w-5",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})})}),(0,r.jsxs)("div",{ref:eu,onTouchStart:ex,onTouchMove:ew,onTouchEnd:ev,onMouseDown:ex,onMouseMove:ew,onMouseUp:ev,onMouseLeave:ev,className:"bottom-sheet ".concat((()=>{switch(ec){case"collapsed":default:return"bottom-sheet-collapsed";case"middle":return"bottom-sheet-middle";case"expanded":return"bottom-sheet-expanded"}})()),children:[(0,r.jsx)("div",{className:"bottom-sheet-handle"}),(0,r.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"px-4 pb-8",children:[(0,r.jsxs)("div",{className:"content-section members-section min-h-[180px] max-h-[180px] overflow-y-auto",children:[(0,r.jsxs)("h2",{className:"text-lg text-gray-900 flex justify-between items-center section-title",children:["그룹 멤버",(0,r.jsxs)(c(),{href:"/group",className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4 mr-1",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})}),"그룹 관리"]})]}),O.length>0?(0,r.jsx)("div",{className:"flex flex-row flex-nowrap justify-start items-center gap-x-4 mb-2 overflow-x-auto hide-scrollbar px-2 py-2",children:O.map(e=>(0,r.jsx)("div",{className:"flex flex-col items-center p-0 flex-shrink-0",children:(0,r.jsxs)("button",{onClick:()=>eE(e.id),className:"flex flex-col items-center",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-full bg-gray-200 flex-shrink-0 flex items-center justify-center overflow-hidden border-2 transition-all duration-200 transform hover:scale-105 ".concat(e.isSelected?"border-indigo-500 ring-2 ring-indigo-300 scale-110":"border-transparent"),children:(0,r.jsx)("img",{src:e.photo,alt:e.name,className:"w-full h-full object-cover"})}),(0,r.jsx)("span",{className:"block text-xs font-medium mt-1 ".concat(e.isSelected?"text-indigo-700":"text-gray-900"),children:e.name})]})},e.id))}):(0,r.jsx)("div",{className:"text-center py-3 text-gray-500",children:(0,r.jsx)("p",{children:"그룹에 참여한 멤버가 없습니다"})})]}),(0,r.jsxs)("div",{className:"content-section schedule-section",children:[(0,r.jsxs)("h2",{className:"text-lg text-gray-900 flex justify-between items-center section-title",children:[(null==(e=O.find(e=>e.isSelected))?void 0:e.name)?"".concat(null==(n=O.find(e=>e.isSelected))?void 0:n.name,"의 일정"):"오늘의 일정",O.some(e=>e.isSelected)?(0,r.jsxs)("button",{onClick:()=>{let e=O.find(e=>e.isSelected);e&&t.push("/schedule/add?memberId=".concat(e.id,"&memberName=").concat(e.name,"&from=home"))},className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4 mr-1",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"일정 추가"]}):(0,r.jsxs)(c(),{href:"/schedule",className:"text-sm font-medium text-indigo-600 hover:text-indigo-800 flex items-center",children:["더보기",(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4 ml-1",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]}),(0,r.jsx)("div",{className:"mb-3 overflow-x-auto pb-2 hide-scrollbar",children:(0,r.jsx)("div",{className:"flex space-x-2",children:J.map((e,n)=>(0,r.jsx)("button",{onClick:()=>eS(e.value),className:"px-3 py-2 rounded-lg flex-shrink-0 focus:outline-none transition-colors ".concat(F===e.value?"bg-gray-900 text-white font-medium shadow-sm":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("div",{className:"text-xs",children:e.display})})},n))})}),T.length>0?(0,r.jsx)("ul",{className:"space-y-3",children:T.map(e=>(0,r.jsx)("li",{className:"p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:(0,r.jsxs)(c(),{href:"/schedule/".concat(e.id),className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium text-gray-900",children:e.title}),(0,r.jsxs)("div",{className:"text-sm text-gray-500 mt-1",children:[(0,r.jsxs)("span",{className:"inline-flex items-center mr-3",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"h-4 w-4 mr-1 text-gray-400",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.date]}),(0,r.jsxs)("span",{className:"inline-flex items-center",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"h-4 w-4 mr-1 text-gray-400",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})}),e.location]})]})]}),(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"h-5 w-5 text-gray-400",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},e.id))}):(0,r.jsx)("div",{className:"text-center py-4 text-gray-500 bg-gray-50 rounded-lg",children:(0,r.jsx)("p",{children:O.some(e=>e.isSelected)?"선택한 멤버의 일정이 없습니다":"오늘 일정이 없습니다"})})]}),(0,r.jsx)("div",{className:"transition-all duration-300 ".concat("expanded"===ec?"opacity-100":"opacity-0 hidden"),children:(0,r.jsxs)("div",{className:"content-section places-section mb-12",children:[(0,r.jsxs)("h2",{className:"text-lg text-gray-900 flex justify-between items-center section-title",children:["내 주변 장소",(0,r.jsxs)(c(),{href:"/location/nearby",className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:["더보기",(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4 ml-1",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]}),b.length>0?(0,r.jsx)("ul",{className:"space-y-3",children:b.map(e=>(0,r.jsx)("li",{className:"p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:(0,r.jsxs)(c(),{href:"/location/place/".concat(e.id),className:"block",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("h3",{className:"font-medium text-gray-900",children:e.title}),(0,r.jsx)("span",{className:"text-sm text-indigo-600 font-medium",children:eA(e.distance)})]}),(0,r.jsx)("div",{className:"text-sm text-gray-500 mt-1",children:(0,r.jsxs)("div",{className:"inline-flex items-center",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"h-4 w-4 mr-1 text-gray-400",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})}),e.address]})})]})},e.id))}):(0,r.jsx)("div",{className:"text-center py-3 text-gray-500",children:"주변 장소가 없습니다"})]})})]})]})]})]})}}},e=>{var n=n=>e(e.s=n);e.O(0,[7244,3741,2156,8127,6314,8441,1684,7358],()=>n(28196)),_N_E=e.O()}]);