(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2454],{10622:(e,s,r)=>{Promise.resolve().then(r.bind(r,86616))},86616:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>d});var a=r(95155),o=r(12115),t=r(35695),n=r(6874),l=r.n(n),i=r(66766);function d(){let[e,s]=(0,o.useState)({email:"",password:"",confirmPassword:"",name:"",phoneNumber:"",agreeTerms:!1}),[r,n]=(0,o.useState)({}),[d,m]=(0,o.useState)(!1),[c,p]=(0,o.useState)(""),x=(0,t.useRouter)(),h=e=>{if(!e)return e;let s=e.replace(/[^0-9]/g,""),r=s.length;return r<4?s:r<7?"".concat(s.slice(0,3),"-").concat(s.slice(3)):r<11?"".concat(s.slice(0,3),"-").concat(s.slice(3,6),"-").concat(s.slice(6)):"".concat(s.slice(0,3),"-").concat(s.slice(3,7),"-").concat(s.slice(7,11))},u=a=>{let{name:o,value:t,type:l,checked:i}=a.target,d={...e},m={...r};if("phoneNumber"===o){let e=h(t);d={...d,[o]:e}}else d={...d,[o]:"checkbox"===l?i:t};if(s(d),r[o]&&(m={...m,[o]:""}),"password"===o||"confirmPassword"===o){let e="password"===o?t:d.password,s="confirmPassword"===o?t:d.confirmPassword;e&&s&&e!==s?m.confirmPassword="비밀번호가 일치하지 않습니다.":s&&e===s&&(m.confirmPassword=""),"password"===o&&e&&e.length<8?m.password="비밀번호는 최소 8자 이상이어야 합니다.":"password"===o&&e&&e.length>=8&&(m.password="")}if("name"!==o||d.name.trim()?"name"===o&&d.name.trim()&&(m.name=""):m.name="이름을 입력해주세요.","email"===o&&(d.email?/\\S+@\\S+\\.\\S+/.test(d.email)?m.email="":m.email="유효한 이메일 형식이 아닙니다.":m.email="이메일을 입력해주세요."),"phoneNumber"===o){let e=d.phoneNumber.replace(/-/g,"");e.trim()?/^[0-9]{10,11}$/.test(e)?m.phoneNumber="":m.phoneNumber="유효한 전화번호 형식이 아닙니다. (10~11자리 숫자)":m.phoneNumber="전화번호를 입력해주세요."}n(m)},g=()=>{let s={};return e.name.trim()||(s.name="이름을 입력해주세요."),e.email?/\S+@\S+\.\S+/.test(e.email)||(s.email="유효한 이메일 형식이 아닙니다."):s.email="이메일을 입력해주세요.",e.phoneNumber.trim()?/^[0-9]{10,11}$/.test(e.phoneNumber.replace(/-/g,""))||(s.phoneNumber="유효한 전화번호 형식이 아닙니다. (예: 01012345678)"):s.phoneNumber="전화번호를 입력해주세요.",e.password?e.password.length<8&&(s.password="비밀번호는 최소 8자 이상이어야 합니다."):s.password="비밀번호를 입력해주세요.",e.confirmPassword?e.password!==e.confirmPassword&&(s.confirmPassword="비밀번호가 일치하지 않습니다."):s.confirmPassword="비밀번호 확인을 입력해주세요.",e.agreeTerms||(s.agreeTerms="약관에 동의해주세요."),n(s),0===Object.keys(s).length},f=async s=>{if(s.preventDefault(),g()){m(!0),p("");try{let s=await fetch("/api/auth/register-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password,name:e.name,phoneNumber:e.phoneNumber.replace(/-/g,"")})}),r=await s.json();if(!s.ok)throw Error(r.message||"회원가입에 실패했습니다.");x.push("/register-success")}catch(e){p(e.message||"회원가입 중 오류가 발생했습니다.")}finally{m(!1)}}};return(0,a.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-indigo-100 via-purple-50 to-pink-100 py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8 animate-fadeIn",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)(i.default,{className:"mx-auto h-20 w-auto",src:"/images/smap_logo.webp",alt:"SMAP Logo",width:160,height:80,priority:!0}),(0,a.jsx)("h2",{className:"mt-1 text-2xl font-bold text-gray-900 font-suite",children:"회원가입"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"계정을 만들고 서비스를 이용하세요"})]}),(0,a.jsxs)("div",{className:"card bg-white p-8 sm:p-10 rounded-xl shadow-2xl border border-gray-100",children:[c&&(0,a.jsx)("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded-md",role:"alert",children:(0,a.jsx)("p",{className:"text-sm",children:c})}),(0,a.jsxs)("form",{className:"space-y-5",onSubmit:f,children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1 font-suite",children:["이름 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{id:"name",name:"name",type:"text",autoComplete:"name",value:e.name,onChange:u,className:"appearance-none block w-full px-6 py-3 border ".concat(r.name?"border-red-500":"border-gray-300"," rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"),placeholder:"홍길동"}),r.name&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:r.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1 font-suite",children:["이메일 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:u,className:"appearance-none block w-full px-6 py-3 border ".concat(r.email?"border-red-500":"border-gray-300"," rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"),placeholder:"name@example.com"}),r.email&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:r.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700 mb-1 font-suite",children:["전화번호 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{id:"phoneNumber",name:"phoneNumber",type:"tel",autoComplete:"tel",value:e.phoneNumber,onChange:u,maxLength:13,className:"appearance-none block w-full px-6 py-3 border ".concat(r.phoneNumber?"border-red-500":"border-gray-300"," rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"),placeholder:"01012345678 ('-' 없이 입력)"}),r.phoneNumber&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:r.phoneNumber})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1 font-suite",children:["비밀번호 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",value:e.password,onChange:u,className:"appearance-none block w-full px-6 py-3 border ".concat(r.password?"border-red-500":"border-gray-300"," rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"),placeholder:"8자 이상 입력해주세요"}),r.password&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:r.password})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1 font-suite",children:["비밀번호 확인 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",value:e.confirmPassword,onChange:u,className:"appearance-none block w-full px-6 py-3 border ".concat(r.confirmPassword?"border-red-500":"border-gray-300"," rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"),placeholder:"비밀번호를 다시 입력해주세요"}),r.confirmPassword&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:r.confirmPassword})]}),(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"flex items-center h-5",children:(0,a.jsx)("input",{id:"agreeTerms",name:"agreeTerms",type:"checkbox",checked:e.agreeTerms,onChange:u,className:"h-5 w-5 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"})}),(0,a.jsxs)("div",{className:"ml-3 text-sm",children:[(0,a.jsx)("label",{htmlFor:"agreeTerms",className:"font-medium ".concat(r.agreeTerms?"text-red-600":"text-gray-700"," font-suite"),children:(0,a.jsxs)("span",{children:["서비스 이용약관 및 개인정보 처리방침에",(0,a.jsx)("br",{}),"동의합니다 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]})}),r.agreeTerms&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:r.agreeTerms}),(0,a.jsx)("p",{className:"text-gray-500 mt-1",children:(0,a.jsx)(l(),{href:"/terms",className:"text-indigo-600 hover:text-indigo-500 underline",children:"약관 보기"})})]})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",disabled:d,className:"w-full flex justify-center items-center py-3 px-6 border border-transparent rounded-xl text-base font-medium text-white bg-gradient-to-r from-indigo-600 to-indigo-700 hover:from-indigo-700 hover:to-indigo-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 shadow-md transition-all transform hover:scale-[1.01] active:scale-[0.99] disabled:opacity-50 disabled:cursor-not-allowed font-suite",children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"가입 중..."]}):"회원가입"})})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600 font-suite",children:["이미 계정이 있으신가요?"," ",(0,a.jsx)(l(),{href:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500 transition-colors",children:"로그인하기"})]})})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[7244,6766,8441,1684,7358],()=>s(10622)),_N_E=e.O()}]);