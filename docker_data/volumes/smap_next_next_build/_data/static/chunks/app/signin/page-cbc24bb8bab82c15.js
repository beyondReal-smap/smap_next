(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4217],{40443:(e,t,r)=>{Promise.resolve().then(r.bind(r,63807))},63807:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(95155),a=r(12115),n=r(35695),o=r(6874),i=r.n(o),l=r(66766),c=r(83029),d=r(93347),u=r(49509);function p(){let[e,t]=(0,a.useState)(""),[r,o]=(0,a.useState)(""),[p,h]=(0,a.useState)(!1),[f,g]=(0,a.useState)(""),[x,y]=(0,a.useState)({}),b=(0,n.useRouter)(),v=e=>{if(!e)return e;let t=e.replace(/[^0-9]/g,""),r=t.length;return r<4?t:r<7?"".concat(t.slice(0,3),"-").concat(t.slice(3)):r<11?"".concat(t.slice(0,3),"-").concat(t.slice(3,6),"-").concat(t.slice(6)):"".concat(t.slice(0,3),"-").concat(t.slice(3,7),"-").concat(t.slice(7,11))},w=async t=>{t.preventDefault(),h(!0),g(""),y({});let s={};if(e.trim()||(s.phoneNumber="전화번호를 입력해주세요."),r.trim()||(s.password="비밀번호를 입력해주세요."),Object.keys(s).length>0){y(s),h(!1);return}try{let t=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mt_hp:e.replace(/-/g,""),mt_pass:r})}),s=await t.json();if(!t.ok)throw Error(s.message||"아이디 또는 비밀번호를 잘못 입력했습니다.");b.push("/")}catch(e){g(e.message||"로그인 중 오류가 발생했습니다.")}finally{h(!1)}},j=async()=>{h(!0),g(""),y({});try{var e;(null==(e=window.google)?void 0:e.accounts.oauth2.initTokenClient({client_id:u.env.NEXT_PUBLIC_GOOGLE_CLIENT_ID,scope:"email profile",callback:async e=>{if(e.access_token)try{let t=await fetch("/api/auth/social-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:"google",token:e.access_token})}),r=await t.json();if(!t.ok)throw Error(r.message);b.push("/")}catch(e){g(e.message||"Google 로그인 중 오류가 발생했습니다.")}}})).requestAccessToken()}catch(e){g(e.message||"Google 로그인 중 오류가 발생했습니다.")}finally{h(!1)}},N=async()=>{h(!0),g(""),y({});try{window.Kakao.isInitialized()||window.Kakao.init(u.env.NEXT_PUBLIC_KAKAO_CLIENT_ID),window.Kakao.Auth.login({success:async e=>{try{let t=await fetch("/api/auth/social-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:"kakao",token:e.access_token})}),r=await t.json();if(!t.ok)throw Error(r.message);b.push("/")}catch(e){g(e.message||"Kakao 로그인 중 오류가 발생했습니다.")}},fail:e=>{g("Kakao 로그인에 실패했습니다.")}})}catch(e){g(e.message||"Kakao 로그인 중 오류가 발생했습니다.")}finally{h(!1)}};return(0,a.useEffect)(()=>{let e=document.createElement("script");e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,document.body.appendChild(e)},[]),(0,a.useEffect)(()=>{let e=document.createElement("script");e.src="https://developers.kakao.com/sdk/js/kakao.js",e.async=!0,e.defer=!0,document.body.appendChild(e)},[]),(0,s.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-indigo-100 via-purple-50 to-pink-100 py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8 bg-white p-8 sm:p-10 rounded-xl shadow-2xl",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(l.default,{className:"mx-auto h-20 w-auto",src:"/images/smap_logo.webp",alt:"SMAP Logo",width:160,height:80,priority:!0}),(0,s.jsx)("h2",{className:"mt-1 text-3xl font-bold tracking-tight text-gray-900",children:"SMAP 로그인"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"계정에 로그인하여 서비스를 이용하세요."})]}),(0,s.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:w,children:[(0,s.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"phone-number",className:"sr-only",children:"전화번호"}),(0,s.jsx)("input",{id:"phone-number",name:"phone",type:"tel",autoComplete:"tel",required:!0,className:"appearance-none rounded-none relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm transition-shadow",placeholder:"전화번호 ('-' 없이 입력)",value:e,onChange:e=>{let r=e.target.value;t(v(r));let s=r.replace(/-/g,"");/[^0-9]/.test(s)&&""!==s?y(e=>({...e,phoneNumber:"숫자만 입력 가능합니다."})):y(e=>({...e,phoneNumber:""}))},maxLength:13})]}),x.phoneNumber&&(0,s.jsx)("p",{className:"text-xs text-red-600 px-1 pt-1",children:x.phoneNumber}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password_signin_phone",className:"sr-only",children:"비밀번호"}),(0,s.jsx)("input",{id:"password_signin_phone",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm transition-shadow",placeholder:"비밀번호",value:r,onChange:e=>o(e.target.value)})]}),x.password&&(0,s.jsx)("p",{className:"text-xs text-red-600 px-1 pt-1",children:x.password})]}),f&&(0,s.jsx)("p",{className:"text-xs text-red-600 text-center bg-red-50 p-2 rounded-md",children:f}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",disabled:p&&!f,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-base font-medium rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-70 transition-all transform hover:scale-105 active:scale-95 shadow-md",children:p&&!f?(0,s.jsx)(m,{message:"로그인 중...",fullScreen:!1}):"전화번호로 로그인"})})]}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:(0,s.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,s.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,s.jsx)("span",{className:"px-3 bg-white text-gray-500",children:"또는 다음으로 계속"})})]}),(0,s.jsxs)("div",{className:"mt-6 grid grid-cols-1 gap-4",children:[(0,s.jsxs)("button",{type:"button",onClick:j,disabled:p,className:"w-full inline-flex items-center justify-center py-3 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-70 transition-all transform hover:scale-105 active:scale-95",children:[(0,s.jsx)(c.F4b,{className:"w-5 h-5 mr-3","aria-hidden":"true"}),"Google 계정으로 로그인"]}),(0,s.jsxs)("button",{type:"button",onClick:N,disabled:p,className:"w-full inline-flex items-center justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-base font-medium text-black bg-[#FEE500] hover:bg-[#F0D900] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-400 disabled:opacity-70 transition-all transform hover:scale-105 active:scale-95",children:[(0,s.jsx)(d.EW_,{className:"w-5 h-5 mr-3","aria-hidden":"true"}),"Kakao 계정으로 로그인"]})]})]}),(0,s.jsxs)("p",{className:"mt-10 text-center text-sm text-gray-500",children:["계정이 없으신가요?"," ",(0,s.jsxs)(i(),{href:"/register",children:[" ",(0,s.jsx)("span",{className:"font-semibold leading-6 text-indigo-600 hover:text-indigo-500",children:"회원가입"})]})]})]})})}let m=e=>{let{message:t="처리 중...",fullScreen:r=!1}=e;return(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,s.jsx)("span",{children:t})]})}},74436:(e,t,r)=>{"use strict";r.d(t,{k5:()=>d});var s=r(12115),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=s.createContext&&s.createContext(a),o=["attr","size","title"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var s,a,n;s=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in s?Object.defineProperty(s,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return t=>s.createElement(u,i({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,r)=>s.createElement(t.tag,c({key:r},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var r,{attr:a,size:n,title:l}=e,d=function(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,o),u=n||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),s.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,d,{className:r,style:c(c({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&s.createElement("title",null,l),e.children)};return void 0!==n?s.createElement(n.Consumer,null,e=>t(e)):t(a)}}},e=>{var t=t=>e(e.s=t);e.O(0,[9204,7753,7244,6766,8441,1684,7358],()=>t(40443)),_N_E=e.O()}]);