(()=>{var e={};e.id=156,e.ids=[156],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},18139:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>r.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var a=n(65239),s=n(48088),o=n(88170),r=n.n(o),i=n(30893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);n.d(t,l);let d={children:["",{children:["location",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,40068)),"/app/src/app/location/page.tsx"]}]},{layout:[()=>Promise.resolve().then(n.bind(n,87343)),"/app/src/app/location/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(n.bind(n,78623)),"/app/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(n.t.bind(n,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(n.t.bind(n,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/app/src/app/location/page.tsx"],m={require:n,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/location/page",pathname:"/location",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},18974:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>B,dynamic:()=>D});var a=n(60687),s=n(76180),o=n.n(s),r=n(43210),i=n(17019),l=n(69587);let d=function(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=function e(t){var n,a,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t)if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(a=e(t[n]))&&(s&&(s+=" "),s+=a);else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}(e))&&(a&&(a+=" "),a+=t);return a},c=e=>"number"==typeof e&&!isNaN(e),m=e=>"string"==typeof e,u=e=>"function"==typeof e,p=e=>m(e)||u(e)?e:null;function f(e){let{enter:t,exit:n,appendPosition:a=!1,collapse:s=!0,collapseDuration:o=300}=e;return function(e){let{children:t,position:n,preventExitTransition:a,done:s,nodeRef:o,isIn:i}=e;return(0,r.useRef)(0),r.createElement(r.Fragment,null,t)}}let x={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){let n=this.list.get(e).filter(e=>e!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){let t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{let n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}};function h(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function g(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function v(e){let{closeToast:t,theme:n,ariaLabel:a="close"}=e;return r.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":a},r.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},r.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function y(e){let{delay:t,isRunning:n,closeToast:a,type:s="default",hide:o,className:i,style:l,controlledProgress:c,progress:m,rtl:p,isIn:f,theme:x}=e,h=o||c&&0===m,g={...l,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:+!h};c&&(g.transform=`scaleX(${m})`);let v=d("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${x}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":p}),y=u(i)?i({rtl:p,type:s,defaultClassName:v}):d(v,i);return r.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:y,style:g,[c&&m>=1?"onTransitionEnd":"onAnimationEnd"]:c&&m<1?null:()=>{f&&a()}})}let b=e=>{let{isRunning:t,preventExitTransition:n,toastRef:a,eventHandlers:s}=function(e){let[t,n]=(0,r.useState)(!1),[a,s]=(0,r.useState)(!1),o=(0,r.useRef)(null),i=(0,r.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,{autoClose:l,pauseOnHover:d,closeToast:c,onClick:m,closeOnClick:u}=((0,r.useRef)(e),e);function p(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),i.didMove=!1,document.addEventListener("mousemove",y),document.addEventListener("mouseup",b),document.addEventListener("touchmove",y),document.addEventListener("touchend",b);let n=o.current;i.canCloseOnClick=!0,i.canDrag=!0,i.boundingRect=n.getBoundingClientRect(),n.style.transition="",i.x=h(t.nativeEvent),i.y=g(t.nativeEvent),"x"===e.draggableDirection?(i.start=i.x,i.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(i.start=i.y,i.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function f(t){if(i.boundingRect){let{top:n,bottom:a,left:s,right:o}=i.boundingRect;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&i.x>=s&&i.x<=o&&i.y>=n&&i.y<=a?v():x()}}function x(){n(!0)}function v(){n(!1)}function y(n){let a=o.current;i.canDrag&&a&&(i.didMove=!0,t&&v(),i.x=h(n),i.y=g(n),i.delta="x"===e.draggableDirection?i.x-i.start:i.y-i.start,i.start!==i.x&&(i.canCloseOnClick=!1),a.style.transform=`translate${e.draggableDirection}(${i.delta}px)`,a.style.opacity=""+(1-Math.abs(i.delta/i.removalDistance)))}function b(){document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",b),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",b);let t=o.current;if(i.canDrag&&i.didMove&&t){if(i.canDrag=!1,Math.abs(i.delta)>i.removalDistance)return s(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform=`translate${e.draggableDirection}(0)`,t.style.opacity="1"}}let w={onMouseDown:p,onTouchStart:p,onMouseUp:f,onTouchEnd:f};return l&&d&&(w.onMouseEnter=v,w.onMouseLeave=x),u&&(w.onClick=e=>{m&&m(e),i.canCloseOnClick&&c()}),{playToast:x,pauseToast:v,isRunning:t,preventExitTransition:a,toastRef:o,eventHandlers:w}}(e),{closeButton:o,children:i,autoClose:l,onClick:c,type:m,hideProgressBar:p,closeToast:f,transition:x,position:b,className:w,style:j,bodyClassName:N,bodyStyle:k,progressClassName:T,progressStyle:C,updateId:_,role:E,progress:L,rtl:S,toastId:M,deleteToast:R,isIn:I,isLoading:$,iconOut:O,closeOnClick:P,theme:z}=e,D=d("Toastify__toast",`Toastify__toast-theme--${z}`,`Toastify__toast--${m}`,{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":P}),A=u(w)?w({rtl:S,position:b,type:m,defaultClassName:D}):d(D,w),F=!!L||!l,G={closeToast:f,type:m,theme:z},Y=null;return!1===o||(Y=u(o)?o(G):(0,r.isValidElement)(o)?(0,r.cloneElement)(o,G):v(G)),r.createElement(x,{isIn:I,done:R,position:b,preventExitTransition:n,nodeRef:a},r.createElement("div",{id:M,onClick:c,className:A,...s,style:j,ref:a},r.createElement("div",{...I&&{role:E},className:u(N)?N({type:m}):d("Toastify__toast-body",N),style:k},null!=O&&r.createElement("div",{className:d("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!$})},O),r.createElement("div",null,i)),Y,r.createElement(y,{..._&&!F?{key:`pb-${_}`}:{},rtl:S,theme:z,delay:l,isRunning:t,isIn:I,closeToast:f,hide:p,type:m,style:C,className:T,controlledProgress:F,progress:L||0})))},w=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},j=f(w("bounce",!0)),N=(f(w("slide",!0)),f(w("zoom")),f(w("flip")),(0,r.forwardRef)((e,t)=>{let{getToastToRender:n,containerRef:a,isToastActive:s}=function(e){let[,t]=(0,r.useReducer)(e=>e+1,0),[n,a]=(0,r.useState)([]),s=(0,r.useRef)(null),o=(0,r.useRef)(new Map).current,i=e=>-1!==n.indexOf(e);return(0,r.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:i,getToast:e=>o.get(e)}).current,{getToastToRender:function(t){let n=new Map,a=Array.from(o.values());return e.newestOnTop&&a.reverse(),a.forEach(e=>{let{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)}),Array.from(n,e=>t(e[0],e[1]))},containerRef:s,isToastActive:i}}(e),{className:o,style:i,rtl:l,containerId:c}=e;return(0,r.useEffect)(()=>{t&&(t.current=a.current)},[]),r.createElement("div",{ref:a,className:"Toastify",id:c},n((e,t)=>{let n=t.length?{...i}:{...i,pointerEvents:"none"};return r.createElement("div",{className:function(e){let t=d("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":l});return u(o)?o({position:e,rtl:l,defaultClassName:t}):d(t,p(o))}(e),style:n,key:`container-${e}`},t.map((e,n)=>{let{content:a,props:o}=e;return r.createElement(b,{...o,isIn:s(o.toastId),style:{...o.style,"--nth":n+1,"--len":t.length},key:`toast-${o.key}`},a)}))}))}));N.displayName="ToastContainer",N.defaultProps={position:"top-right",transition:j,autoClose:5e3,closeButton:v,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let k,T=new Map,C=[],_=1;function E(e,t){return T.size>0?x.emit(0,e,t):C.push({content:e,options:t}),t.toastId}function L(e,t){return{...t,type:t&&t.type||e,toastId:t&&(m(t.toastId)||c(t.toastId))?t.toastId:""+_++}}function S(e){return(t,n)=>E(t,L(e,n))}function M(e,t){return E(e,L("default",t))}M.loading=(e,t)=>E(e,L("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),M.promise=function(e,t,n){let a,{pending:s,error:o,success:r}=t;s&&(a=m(s)?M.loading(s,n):M.loading(s.render,{...n,...s}));let i={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,s)=>{if(null==t)return void M.dismiss(a);let o={type:e,...i,...n,data:s},r=m(t)?{render:t}:t;return a?M.update(a,{...o,...r}):M(r.render,{...o,...r}),s},d=u(e)?e():e;return d.then(e=>l("success",r,e)).catch(e=>l("error",o,e)),d},M.success=S("success"),M.info=S("info"),M.error=S("error"),M.warning=S("warning"),M.warn=M.warning,M.dark=(e,t)=>E(e,L("default",{theme:"dark",...t})),M.dismiss=e=>{T.size>0?x.emit(1,e):C=C.filter(t=>null!=e&&t.options.toastId!==e)},M.clearWaitingQueue=function(e){return void 0===e&&(e={}),x.emit(5,e)},M.isActive=e=>{let t=!1;return T.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},M.update=function(e,t){void 0===t&&(t={}),setTimeout(()=>{let n=function(e,t){let{containerId:n}=t,a=T.get(n||k);return a&&a.getToast(e)}(e,t);if(n){let{props:a,content:s}=n,o={delay:100,...a,...t,toastId:t.toastId||e,updateId:""+_++};o.toastId!==e&&(o.staleId=e);let r=o.render||s;delete o.render,E(r,o)}},0)},M.done=e=>{M.update(e,{progress:1})},M.onChange=e=>(x.on(4,e),()=>{x.off(4,e)}),M.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},M.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},x.on(2,e=>{k=e.containerId||e,T.set(k,e),C.forEach(e=>{x.emit(0,e.content,e.options)}),C=[]}).on(3,e=>{T.delete(e.containerId||e),0===T.size&&x.off(0).off(1).off(5)}),n(25806);var R=n(85814),I=n.n(R),$=n(52368),O=n(52639),P=n(51215),z=n.n(P);let D="force-dynamic";$.Cu.NAVER_MAPS_CLIENT_ID;let A=$.Cu.KAKAO_REST_API_KEY,F=[{id:"1",name:"본사 사무실",address:"서울시 강남구 테헤란로 123",category:"회사",coordinates:[127.0381,37.5012],memo:"본사 사무실 위치입니다.",favorite:!0,notifications:!1},{id:"2",name:"강남역 미팅룸",address:"서울시 강남구 강남대로 456",category:"미팅장소",coordinates:[127.0281,37.4982],memo:"주요 미팅 장소",favorite:!1,notifications:!0},{id:"3",name:"을지로 지사",address:"서울시 중구 을지로 789",category:"회사",coordinates:[126.9981,37.5662],memo:"을지로 지사 위치",favorite:!0,notifications:!1}],G=[{id:"1",name:"김철수",photo:"/images/avatar3.png",isSelected:!1,location:{lat:37.5062,lng:127.0401},schedules:[{id:"m1-1",title:"팀 회의",date:"오늘 14:00",location:"강남 사무실"}],savedLocations:[{id:"loc1-1",name:"철수네 회사",address:"서울시 강남구 테헤란로 100",category:"회사",coordinates:[127.035,37.5],memo:"철수 회사",favorite:!0,notifications:!1},{id:"loc1-2",name:"철수 단골식당",address:"서울시 강남구 역삼동 101",category:"식당",coordinates:[127.038,37.5015],memo:"점심 맛집",favorite:!1,notifications:!0}]},{id:"2",name:"이영희",photo:"/images/avatar1.png",isSelected:!1,location:{lat:37.4952,lng:127.0231},schedules:[{id:"m2-1",title:"프로젝트 발표",date:"내일 10:00",location:"회의실 A"}],savedLocations:[{id:"loc2-1",name:"영희네 집",address:"서울시 서초구 반포동 200",category:"집",coordinates:[127.001,37.51],memo:"영희 집",favorite:!0,notifications:!1},{id:"loc2-2",name:"영희 헬스장",address:"서울시 서초구 잠원동 202",category:"운동",coordinates:[127.009,37.512],memo:"운동하는 곳",favorite:!1,notifications:!1},{id:"loc2-3",name:"영희 자주가는 카페",address:"서울시 강남구 신사동 203",category:"카페",coordinates:[127.022,37.522],memo:"분위기 좋은 곳",favorite:!1,notifications:!0}]},{id:"3",name:"박민수",photo:"/images/avatar2.png",isSelected:!1,location:{lat:37.5662+.002,lng:126.9951},schedules:[{id:"m3-1",title:"주간 회의",date:"수요일 11:00",location:"본사 대회의실"}],savedLocations:[{id:"loc3-1",name:"민수 스터디룸",address:"서울시 종로구 관철동 300",category:"스터디",coordinates:[126.985,37.569],memo:"그룹 스터디 장소",favorite:!1,notifications:!1}]}],Y=`
@keyframes slideUp {
  from {
    transform: translateY(100%);
  }
  to {
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.animate-slideUp {
  animation: slideUp 0.3s ease-out forwards;
}

.animate-fadeIn {
  animation: fadeIn 0.2s ease-out forwards;
}

.full-map-container {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100vw;
  height: 100vh;
  margin: 0;
  padding: 0;
  overflow: hidden;
  z-index: 5;
}

.bottom-sheet {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background-color: white;
  border-top-left-radius: 16px;
  border-top-right-radius: 16px;
  box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.1);
  transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: 40;
  max-height: 90vh;
  overflow-y: auto;
  touch-action: pan-y;
  padding-bottom: 20px;
  will-change: transform;
}

.bottom-sheet-handle {
  width: 40px;
  height: 5px;
  background-color: #e2e8f0;
  border-radius: 3px;
  margin: 8px auto;
  cursor: grab;
}

.bottom-sheet-handle:active {
  cursor: grabbing;
}

.bottom-sheet-collapsed {
  transform: translateY(calc(100% - 100px));
  height: 100vh;
}

.bottom-sheet-expanded {
  transform: translateY(58%);
  height: 100vh;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

.hide-scrollbar {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE and Edge */
}
.hide-scrollbar::-webkit-scrollbar {
  display: none; /* Chrome, Safari, Opera */
}

.modal-overlay {
  z-index: 50;
}
.modal-content {
  z-index: 51;
}
.location-search-modal-overlay {
  z-index: 60; /* 주소 검색 모달이 다른 모달 위에 오도록 */
}
.location-search-modal-content {
  z-index: 61;
}
.location-info-panel {
  position: absolute;
  top: 160px; /* 헤더 아래 여백을 더 늘림 */
  left: 50%;
  transform: translateX(-50%);
  width: calc(100% - 30px);
  max-width: 480px;
  background-color: white;
  border-radius: 12px;
  box-shadow: 0 8px 16px rgba(0,0,0,0.15);
  z-index: 45;
  padding: 20px;
  opacity: 0;
  visibility: hidden;
  transform: translateX(-50%) scale(0.95);
  transition: opacity 0.3s ease-out, visibility 0.3s ease-out, transform 0.3s ease-out;
}
.location-info-panel.open {
  opacity: 1;
  visibility: visible;
  transform: translateX(-50%) scale(1);
}
.address-search-results-in-panel {
  max-height: 150px; /* 패널 내 검색 결과 높이 제한 */
  overflow-y: auto;
  border: 1px solid #eee;
  border-radius: 8px;
  margin-top: 8px;
}

/* --- home/page.tsx 에서 가져온 스타일 --- */
.content-section {
  padding: 16px;
  background-color: #ffffff;
  border-radius: 12px;
  margin-bottom: 16px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
  position: relative;
  overflow: hidden;
}

.content-section::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 4px;
}

.members-section {
  background: linear-gradient(to right, rgba(22, 163, 74, 0.03), transparent); /* Indigo to Green gradient */
}

.members-section::before {
  background-color: #16A34A; /* Indigo-600 */
}

.places-section { /* Teal or other color */
  background: linear-gradient(to right, rgba(236, 72, 153, 0.03), transparent);
  margin-left: 1px; /* 그룹멤버 오른쪽 세로선과 겹침 방지 */
}

.places-section::before {
  background-color: #EC4899;
}

.section-title {
  margin-bottom: 16px;
  padding-bottom: 8px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);
  color: #424242;
  font-weight: normal;
}
/* --- END: home/page.tsx 에서 가져온 스타일 --- */
`;function B(){let e=(0,r.useRef)(null),t=(0,r.useRef)(null),n=(0,r.useRef)(null),s=(0,r.useRef)(null);(0,r.useRef)(!1);let d=(0,r.useRef)(null);(0,r.useRef)(0);let c=(0,r.useRef)(null),m=(0,r.useRef)(null),u=(0,r.useRef)(null),p=(0,r.useRef)({}),f=(0,r.useRef)([]),[x,h]=(0,r.useState)("members"),g=(0,r.useRef)(null),[v,y]=(0,r.useState)(F),[b,w]=(0,r.useState)(!1),[j,k]=(0,r.useState)(!1),[T,C]=(0,r.useState)({id:void 0,name:"",address:"",coordinates:[127.0276,37.4979],notifications:!1}),[_,E]=(0,r.useState)("collapsed"),[L,S]=(0,r.useState)(!1),[M,R]=(0,r.useState)(!0),[$,P]=(0,r.useState)(!1),[D,B]=(0,r.useState)(!1),[H,K]=(0,r.useState)(""),[q,U]=(0,r.useState)([]),[X,Q]=(0,r.useState)(!1),[Z,W]=(0,r.useState)(null),[J,V]=(0,r.useState)(null),[ee,et]=(0,r.useState)(!1),[en,ea]=(0,r.useState)(!1),[es,eo]=(0,r.useState)(!1),[er,ei]=(0,r.useState)(null),[el,ed]=(0,r.useState)(!1),[ec,em]=(0,r.useState)(G),[eu,ep]=(0,r.useState)(null),ef=e=>{let t="touches"in e?e.touches[0].clientY:e.clientY;c.current=t,m.current=t,u.current=Date.now(),d.current&&(d.current.style.transition="none")},ex=e=>{if(null===c.current||!d.current||null===m.current)return;let t="touches"in e?e.touches[0].clientY:e.clientY,n=t-m.current;if(Math.abs(n)>5){m.current=t;let e=getComputedStyle(d.current).transform,a=0;"none"!==e&&(a=new DOMMatrixReadOnly(e).m42);let s=a+n,o=.6*window.innerHeight;s=Math.max(0-.1*window.innerHeight,Math.min(s,o+50)),d.current.style.transform=`translateY(${s}px)`,d.current.style.transition="none"}},eh=e=>{if(null===c.current||!d.current||null===m.current)return;let t=("changedTouches"in e?e.changedTouches[0].clientY:e.clientY)-c.current,a=u.current?Date.now()-u.current:0;if(Math.abs(t)>10||a>200){let e;d.current.style.transition="transform 0.5s cubic-bezier(0.4, 0, 0.2, 1)";let s=a>0?t/a:0,o=getComputedStyle(d.current).transform,r=0;"none"!==o&&(r=new DOMMatrixReadOnly(o).m42);let i=window.innerHeight;if(E(e=Math.abs(s)>.3?s<0?"expanded":"collapsed":r<.3*i?"expanded":"collapsed"),"collapsed"===e){eo(!1),n.current&&n.current.setMap(null);let e=ec.find(e=>e.isSelected);e?ek(e.savedLocations||[]):ek([])}}d.current.style.transform="",c.current=null,m.current=null,u.current=null},eg=async e=>{let t=void 0!==e?e:H;if(!t.trim())return void U([]);"panel"===J?et(!0):Q(!0),U([]);let n=`https://dapi.kakao.com/v2/local/search/keyword.json?query=${encodeURIComponent(t)}`;console.log("[handleSearchLocationInternal] Using KAKAO_REST_API_KEY:",A);try{let e=await fetch(n,{headers:{Authorization:`KakaoAK ${A}`}});if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);let t=await e.json();U(t.documents?.map((e,t)=>({...e,temp_id:`${e.x}-${e.y}-${t}`}))||[])}catch(e){U([]),console.error("주소 검색 오류:",e)}finally{"panel"===J?et(!1):Q(!1)}},ev=()=>{V("panel"),eg(H)},ey=e=>{let a=e.road_address_name||e.address_name||"",s=null,o=T.coordinates||[127.0276,37.4979];e.y&&e.x&&(s=new window.naver.maps.LatLng(parseFloat(e.y),parseFloat(e.x)),o=[parseFloat(e.x),parseFloat(e.y)]),C(t=>({...t,name:e.place_name||t.name||"",address:a,coordinates:o,notifications:!1})),s&&t.current&&window.naver?.maps&&(ei(s),n.current&&n.current.setMap(null),n.current=new window.naver.maps.Marker({position:s,map:t.current}),t.current.panTo(s),15>t.current.getZoom()&&t.current.setZoom(15)),U([]),ed(!1)},eb=e=>{console.log("[handleOpenLocationSearchModalForModals] Called by:",e,"Current newLocation.address:",T.address),V(e);let t=T.address||"";K(t),t.trim()?eg(t):U([]),B(!0)},ew=e=>{let t=e.road_address_name||e.address_name||"",n=T.coordinates;e.y&&e.x&&(n=[parseFloat(e.x),parseFloat(e.y)]),C(a=>({...a,address:t,coordinates:n,name:"add"===J&&!a.name&&e.place_name||a.name,notifications:!1})),B(!1),K(""),U([])},ej=async()=>{if(T.address?.trim()||T.name?.trim()){ea(!0);try{if(el){if(console.log("Updating location:",T),!T.id)return void ea(!1);y(e=>e.map(e=>e.id===T.id?{...e,name:T.name?.trim()||T.address||e.name,address:T.address||e.address,coordinates:T.coordinates||e.coordinates,notifications:T.notifications??e.notifications}:e)),er&&T.id===er.id&&el&&ei(new window.naver.maps.LatLng(T.coordinates[1],T.coordinates[0]))}else{let e={id:String(Date.now()),name:T.name.trim()||T.address,address:T.address,coordinates:T.coordinates,category:"기타",memo:"",favorite:!1,notifications:T.notifications||!1};y(t=>[e,...t]),ei(new window.naver.maps.LatLng(T.coordinates[1],T.coordinates[0])),n.current&&n.current.setMap(null)}eo(!1),ed(!1),C({name:"",address:"",coordinates:[127.0276,37.4979],notifications:!1})}catch(e){console.error("장소 저장 오류:",e)}finally{ea(!1)}}},eN=(e,t)=>Z?z().createPortal((0,a.jsx)("div",{className:`fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 transition-opacity duration-300 ease-in-out ${t||"modal-overlay"}`,children:e}),Z):null,ek=e=>{t.current&&window.naver?.maps&&L&&(Object.values(p.current).forEach(e=>{e&&"function"==typeof e.setMap&&e.setMap(null)}),p.current={},e&&0!==e.length&&e.forEach(e=>{if(!e.id)return void console.warn("Location ID is missing, cannot create marker:",e);try{let a=new window.naver.maps.LatLng(e.coordinates[1],e.coordinates[0]),s=es&&T.id===e.id&&el,o={content:`
          <div style="position: relative; display: flex; flex-direction: column; align-items: center; cursor: pointer;">
            <div style="padding: 3px 7px; background-color: #4F46E5; color: white; border-radius: 5px; font-size: 11px; font-weight: normal; white-space: nowrap; box-shadow: 0 1px 3px rgba(0,0,0,0.3); margin-bottom: 3px;">
              ${e.name}
            </div>
            <div style="width: 12px; height: 12px; background-color: ${s?"#FF0000":"#1E90FF"}; border: 2px solid white; border-radius: 50%; box-shadow: 0 1px 2px rgba(0,0,0,0.2);">
            </div>
          </div>
        `,anchor:new window.naver.maps.Point(6,38)},r=new window.naver.maps.Marker({position:a,map:t.current,icon:o});r.setZIndex(s?200:100),window.naver.maps.Event.addListener(r,"click",t=>{let a=v.find(t=>t.id===e.id)||eu?.find(t=>t.id===e.id);C({id:e.id,name:e.name,address:e.address,coordinates:e.coordinates,category:a?.category,memo:a?.memo,favorite:a?.favorite,notifications:a?.notifications||!1}),ei(new window.naver.maps.LatLng(e.coordinates[1],e.coordinates[0])),ed(!0),eo(!0),n.current&&n.current.setMap(null),"collapsed"===_&&E("expanded"),eu&&eu.find(t=>t.id===e.id)&&ek(eu)}),p.current[e.id]=r}catch(t){console.error(`장소 마커 추가 중 오류 (${e.name}):`,t)}}))},eT=e=>{if(!t.current||!window.naver?.maps||!L)return;f.current.forEach(e=>e.setMap(null));let n=[],a=e.filter(e=>e.isSelected);if(a.forEach(e=>{try{let a=new window.naver.maps.LatLng(e.location.lat,e.location.lng),s=new window.naver.maps.Marker({position:a,map:t.current,icon:{content:`
              <div style="position: relative; text-align: center;">
                <div style="width: 32px; height: 32px; background-color: white; border: 2px solid #4F46E5; border-radius: 50%; overflow: hidden; display: flex; align-items: center; justify-content: center; box-shadow: 0 1px 3px rgba(0,0,0,0.2);">
                  <img src="${e.photo}" alt="${e.name}" style="width: 100%; height: 100%; object-fit: cover;" />
                </div>
                <div style="position: absolute; bottom: -18px; left: 50%; transform: translateX(-50%); background-color: rgba(0,0,0,0.7); color: white; padding: 2px 5px; border-radius: 3px; white-space: nowrap; font-size: 10px;">
                  ${e.name}
                </div>
              </div>
            `,size:new window.naver.maps.Size(36,48),anchor:new window.naver.maps.Point(18,42)},zIndex:150});n.push(s)}catch(t){console.error(`멤버 마커 생성 오류 (${e.name}):`,t)}}),f.current=n,1===a.length){let e=a[0];if(t.current&&e.location){let n=new window.naver.maps.LatLng(e.location.lat,e.location.lng);t.current.panTo(n),16>t.current.getZoom()&&t.current.setZoom(16)}}else if(a.length>1&&t.current){let e=new window.naver.maps.LatLngBounds;a.forEach(t=>{t.location&&e.extend(new window.naver.maps.LatLng(t.location.lat,t.location.lng))}),e.isEmpty()||t.current.fitBounds(e)}},eC=(e,a=!1)=>{let s=ec.map(t=>t.id===e?{...t,isSelected:!t.isSelected}:{...t,isSelected:!1});em(s),eT(s);let o=s.find(e=>e.isSelected);o&&t.current&&window.naver?.maps?(ep(o.savedLocations||[]),ek(o.savedLocations||[]),h("members"),!a&&(eo(!1),ed(!1),n.current&&n.current.setMap(null))):(ep(null),ek([]),h("members"),eo(!1),ed(!1))},e_=e=>{if(!e)return;y(t=>t.filter(t=>t.id!==e)),eu&&ep(t=>t?t.filter(t=>t.id!==e):null),em(t=>t.map(t=>t.savedLocations.some(t=>t.id===e)?{...t,savedLocations:t.savedLocations.filter(t=>t.id!==e)}:t)),p.current[e]&&(p.current[e].setMap(null),delete p.current[e]),T.id===e&&(eo(!1),ed(!1),C({id:void 0,name:"",address:"",coordinates:[127.0276,37.4979],notifications:!1}),n.current&&(n.current.setMap(null),n.current=null));let t=ec.find(e=>e.isSelected);t&&ek(t.savedLocations.filter(t=>t.id!==e))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o(),{id:Y.__hash,children:Y}),(0,a.jsxs)(O.LN,{title:"내 장소",showHeader:!1,showBackButton:!1,className:"p-0 m-0 w-full h-screen overflow-hidden relative",children:[M&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 z-50",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500"})}),(0,a.jsx)("div",{className:"full-map-container",children:(0,a.jsx)("div",{ref:e,className:"w-full h-full"})}),es&&(0,a.jsxs)("div",{ref:s,onMouseDown:e=>e.stopPropagation(),className:"location-info-panel open",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3 pb-3 border-b border-gray-200",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:el?"장소 정보":ec.find(e=>e.isSelected)?.name?`${ec.find(e=>e.isSelected)?.name}의 새 장소 등록`:"새 장소 등록"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[" ",el&&(0,a.jsx)("button",{onClick:()=>{let e=!T.notifications;if(C(t=>({...t,notifications:e})),T.id){let t=T.id;y(n=>n.map(n=>n.id===t?{...n,notifications:e}:n)),eu&&ep(n=>n?.map(n=>n.id===t?{...n,notifications:e}:n)||null),em(n=>n.map(n=>({...n,savedLocations:n.savedLocations.map(n=>n.id===t?{...n,notifications:e}:n)})))}},"aria-label":T.notifications?"알림 끄기":"알림 켜기",className:`p-1.5 rounded-md hover:bg-gray-100 transition-colors ${T.notifications?"text-yellow-500 hover:text-yellow-600":"text-red-500 hover:text-red-600"}`,children:T.notifications?(0,a.jsx)(i.zd,{size:18}):(0,a.jsx)(i.EkJ,{size:18})}),(0,a.jsxs)("button",{onClick:()=>{if(eo(!1),n.current&&n.current.setMap(null),ed(!1),eu&&eu.length>0)ek(eu);else if(null===eu||0===eu.length){let e=ec.find(e=>e.isSelected);e?ek(e.savedLocations||[]):ek([])}},className:"p-1.5 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100 transition-colors",children:[" ",(0,a.jsx)(i.yGN,{size:20})]})]})]}),el?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-4",children:[" ",(0,a.jsx)("p",{className:"text-base font-semibold text-gray-800 truncate",children:T.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1 break-words",children:T.address||"주소 정보 없음"})]}),(0,a.jsxs)("div",{className:"flex space-x-2 mt-6",children:[" ",(0,a.jsx)(O.$n,{variant:"danger",onClick:()=>e_(T.id),className:"flex-1",children:"삭제"}),(0,a.jsx)(O.$n,{variant:"secondary",onClick:()=>{if(eo(!1),n.current&&n.current.setMap(null),ed(!1),eu&&eu.length>0)ek(eu);else if(null===eu||0===eu.length){let e=ec.find(e=>e.isSelected);e?ek(e.savedLocations||[]):ek([])}},className:"flex-1",children:"닫기"})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"relative mb-2",children:[(0,a.jsx)("input",{type:"text",placeholder:"지번, 도로명, 건물명으로 검색",value:H,onChange:e=>K(e.target.value),onKeyDown:e=>{"Enter"===e.key&&ev()},className:"w-full py-2 pl-10 pr-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"}),ee?(0,a.jsx)(i.TwU,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 animate-spin"}):(0,a.jsx)(l.KSO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 cursor-pointer",onClick:ev})]}),"panel"===J&&q.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"text-xs font-medium text-indigo-600 mt-3 mb-1 px-1",children:"검색 결과"}),(0,a.jsx)("div",{className:"address-search-results-in-panel bg-gray-100",children:(0,a.jsx)("ul",{className:"divide-y divide-gray-200",children:q.map(e=>(0,a.jsxs)("li",{onClick:()=>ey(e),className:"p-2 cursor-pointer hover:bg-gray-200",children:[(0,a.jsx)("p",{className:"font-semibold text-gray-800 truncate text-[11px]",children:e.place_name}),(0,a.jsx)("p",{className:"text-gray-600 truncate text-[11px]",children:e.road_address_name||e.address_name})]},e.temp_id||e.id))})})]}),(0,a.jsxs)("div",{className:"mt-4 mb-3",children:[(0,a.jsx)("p",{className:"text-xs font-medium text-indigo-600 mb-1",children:"선택한 위치 주소"}),(0,a.jsxs)("div",{className:"flex text-sm font-medium text-gray-700 min-h-[20px]",children:[(0,a.jsx)("span",{className:"opacity-0 pointer-events-none select-none text-xs font-medium text-indigo-600 mb-1",children:"장소 태그 (이름)"}),(0,a.jsx)("span",{className:"ml-[-7ch]",children:es?T.address?T.address:er&&!T.address?" 주소 변환 중...":" 지도를 클릭하거나 검색하세요.":""})]})]}),(0,a.jsxs)("div",{className:"mb-6 mt-4",children:[(0,a.jsx)("label",{htmlFor:"panelLocationName",className:"block text-xs font-medium text-indigo-600 mb-1",children:"장소 태그 (이름)"}),(0,a.jsx)("input",{type:"text",id:"panelLocationName",placeholder:"이 장소에 대한 나만의 이름을 지어주세요.",value:T.name,onChange:e=>C(t=>({...t,name:e.target.value})),className:"w-full py-2 px-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm"})]}),(0,a.jsxs)("div",{className:"flex space-x-2 mt-4",children:[(0,a.jsx)(O.$n,{variant:"secondary",onClick:()=>{if(eo(!1),n.current&&n.current.setMap(null),ed(!1),eu&&eu.length>0)ek(eu);else if(null===eu||0===eu.length){let e=ec.find(e=>e.isSelected);e?ek(e.savedLocations||[]):ek([])}},className:"flex-1",children:"닫기"}),(0,a.jsx)(O.$n,{variant:"primary",onClick:ej,className:"flex-1",disabled:en,children:en?"저장 중...":"내 장소 등록"})]})]})]}),(0,a.jsxs)("div",{ref:d,onTouchStart:ef,onTouchMove:ex,onTouchEnd:eh,onMouseDown:ef,onMouseMove:ex,onMouseUp:eh,onMouseLeave:eh,className:`bottom-sheet ${(()=>{switch(_){case"collapsed":default:return"bottom-sheet-collapsed";case"expanded":return"bottom-sheet-expanded"}})()} hide-scrollbar`,children:[(0,a.jsx)("div",{className:"bottom-sheet-handle"}),(0,a.jsxs)("div",{className:"px-4 pb-4",children:[(0,a.jsxs)("div",{ref:g,onScroll:()=>{if(g.current){let{scrollLeft:e,offsetWidth:t}=g.current;e>=t/2&&"places"!==x?h("places"):e<t/2&&"members"!==x&&h("members")}},className:"flex overflow-x-auto snap-x snap-mandatory hide-scrollbar",children:[(0,a.jsx)("div",{className:"w-full flex-shrink-0 snap-start",children:(0,a.jsxs)("div",{className:"content-section members-section min-h-[180px] max-h-[180px] overflow-y-auto",children:[(0,a.jsxs)("h2",{className:"text-lg font-medium text-gray-900 flex justify-between items-center section-title",children:["그룹 멤버",(0,a.jsxs)(I(),{href:"/group",className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,a.jsx)(i.GGD,{className:"h-3 w-3 mr-1"}),"그룹 관리"]})]}),ec.length>0?(0,a.jsx)("div",{className:"flex flex-row flex-nowrap justify-start items-center gap-x-4 mb-2 overflow-x-auto hide-scrollbar px-2 py-2",children:ec.map(e=>(0,a.jsx)("div",{className:"flex flex-col items-center p-0 flex-shrink-0",children:(0,a.jsxs)("button",{onClick:()=>eC(e.id),className:"flex flex-col items-center focus:outline-none",children:[(0,a.jsx)("div",{className:`w-12 h-12 rounded-full bg-gray-200 flex-shrink-0 flex items-center justify-center overflow-hidden border-2 transition-all duration-200 transform hover:scale-105 ${e.isSelected?"border-indigo-500 ring-2 ring-indigo-300 scale-110":"border-transparent"}`,children:(0,a.jsx)("img",{src:e.photo,alt:e.name,className:"w-full h-full object-cover"})}),(0,a.jsx)("span",{className:`block text-xs font-medium mt-1.5 ${e.isSelected?"text-indigo-700":"text-gray-700"}`,children:e.name})]})},e.id))}):(0,a.jsx)("div",{className:"text-center py-3 text-gray-500",children:(0,a.jsx)("p",{children:"그룹에 참여한 멤버가 없습니다"})})]})}),eu&&eu.length>0&&(0,a.jsx)("div",{className:"w-full flex-shrink-0 snap-start",children:(0,a.jsxs)("div",{className:"content-section places-section min-h-[180px] max-h-[180px] overflow-y-auto",children:[" ",(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 flex justify-between items-center section-title",children:(ec.find(e=>e.isSelected)?.name||"선택된 멤버")+"의 장소"}),(0,a.jsxs)("div",{className:"flex overflow-x-auto space-x-3 pb-2 hide-scrollbar -mx-1 px-1",children:[eu.map(e=>(0,a.jsxs)("div",{onClick:()=>{if(t.current&&window.naver?.maps){let a=new window.naver.maps.LatLng(e.coordinates[1],e.coordinates[0]);ec.find(e=>e.isSelected)&&eu?.some(t=>t.id===e.id),t.current.panTo(a),15>t.current.getZoom()&&t.current.setZoom(15),C({id:e.id,name:e.name,address:e.address,coordinates:e.coordinates,category:e.category,memo:e.memo,favorite:e.favorite,notifications:e.notifications||!1}),ei(a),ed(!0),eo(!0),n.current&&n.current.setMap(null),ek(eu||[])}},className:"flex-shrink-0 w-48 bg-white rounded-lg shadow p-3.5 cursor-pointer hover:shadow-lg transition-shadow duration-200 ease-in-out transform hover:-translate-y-0.5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1.5",children:[" ",(0,a.jsxs)("div",{className:"flex items-center min-w-0",children:[" ",(0,a.jsx)(i.HzC,{className:"w-3.5 h-3.5 text-teal-600 mr-1.5 flex-shrink-0"}),(0,a.jsx)("h4",{className:"text-sm font-semibold text-gray-800 truncate",children:e.name})]}),e.notifications?(0,a.jsx)(i.zd,{size:12,className:"text-yellow-500 flex-shrink-0 ml-1"}):(0,a.jsx)(i.EkJ,{size:12,className:"text-red-500 flex-shrink-0 ml-1"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 truncate mt-1 pl-[1.125rem]",children:e.address})]},e.id)),(0,a.jsxs)("div",{onClick:()=>{C({name:"",address:"",coordinates:t.current?.getCenter().toArray()||[127.0276,37.4979],notifications:!1}),ei(t.current?.getCenter()||new window.naver.maps.LatLng(37.4979,127.0276)),ed(!1),eo(!0),n.current&&n.current.setMap(null),t.current&&window.naver?.maps&&(n.current=new window.naver.maps.Marker({position:t.current.getCenter(),map:t.current})),"expanded"===_&&E("collapsed")},className:"flex-shrink-0 w-40 bg-gray-50 rounded-lg shadow p-3.5 cursor-pointer hover:shadow-lg transition-shadow duration-200 ease-in-out flex flex-col items-center justify-center text-center hover:bg-gray-100 transform hover:-translate-y-0.5",children:[(0,a.jsx)(i.GGD,{className:"w-6 h-6 text-indigo-500 mb-1"}),(0,a.jsx)("p",{className:"text-xs font-medium text-indigo-600",children:"새 장소 추가"})]})]})]})})]}),eu&&eu.length>0&&(0,a.jsxs)("div",{className:"flex justify-center items-center my-2",children:[(0,a.jsx)("button",{onClick:()=>h("members"),"aria-label":"멤버 뷰로 전환",className:`w-2.5 h-2.5 rounded-full mx-1.5 focus:outline-none ${"members"===x?"bg-indigo-600 scale-110":"bg-gray-300"} transition-all duration-300`}),(0,a.jsx)("button",{onClick:()=>h("places"),"aria-label":"장소 뷰로 전환",className:`w-2.5 h-2.5 rounded-full mx-1.5 focus:outline-none ${"places"===x?"bg-indigo-600 scale-110":"bg-gray-300"} transition-all duration-300`})]})]})]}),b&&eN((0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6 modal-content animate-scaleIn",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 font-suite",children:"새 위치 추가"}),(0,a.jsx)("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-500 p-1 -m-1",children:(0,a.jsx)(i.yGN,{size:20})})]}),(0,a.jsxs)("form",{className:"mt-4 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"location-name",className:"block text-sm font-medium text-gray-700",children:"위치명"}),(0,a.jsx)("input",{type:"text",id:"location-name",value:T.name,onChange:e=>C({...T,name:e.target.value}),required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"location-address",className:"block text-sm font-medium text-gray-700",children:"주소"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"text",id:"location-address",value:T.address,onChange:e=>C({...T,address:e.target.value}),required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),(0,a.jsx)(O.$n,{type:"button",variant:"outline",onClick:()=>eb("add"),className:"mt-1 flex-shrink-0 p-2",children:(0,a.jsx)(l.KSO,{})})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,a.jsx)(O.$n,{type:"button",variant:"secondary",onClick:()=>w(!1),children:"취소"}),(0,a.jsx)(O.$n,{type:"button",onClick:()=>{let e={id:String(Date.now()),name:T.name,address:T.address,coordinates:T.coordinates,category:"기타",memo:"",favorite:!1,notifications:!1};y(t=>[e,...t]),w(!1),C({name:"",address:"",coordinates:[127.0276,37.4979],notifications:!1})},children:"저장"})]})]})]})),j&&T.id&&eN((0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6 modal-content animate-scaleIn",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 font-suite",children:"위치 편집"}),(0,a.jsx)("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-gray-500 p-1 -m-1",children:(0,a.jsx)(i.yGN,{size:20})})]}),(0,a.jsxs)("form",{className:"mt-4 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"edit-location-name",className:"block text-sm font-medium text-gray-700",children:"위치명"}),(0,a.jsx)("input",{type:"text",id:"edit-location-name",value:T.name,onChange:e=>C({...T,name:e.target.value}),required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"edit-location-address",className:"block text-sm font-medium text-gray-700",children:"주소"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"text",id:"edit-location-address",value:T.address,onChange:e=>C({...T,address:e.target.value}),required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),(0,a.jsx)(O.$n,{type:"button",variant:"outline",onClick:()=>eb("edit"),className:"mt-1 flex-shrink-0 p-2",children:(0,a.jsx)(l.KSO,{})})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,a.jsx)(O.$n,{type:"button",variant:"secondary",onClick:()=>k(!1),children:"취소"}),(0,a.jsx)(O.$n,{type:"button",onClick:()=>{if(!T.id)return;let e=T.id,t=v.find(t=>t.id===e);if(!t)return;let n={...t,id:e,name:T.name||t.name,address:T.address||t.address,coordinates:T.coordinates||t.coordinates,notifications:T.notifications??t.notifications},a=v.map(t=>t.id===e?n:t);y(a),es&&el&&T.id===e&&(C({id:n.id,name:n.name,address:n.address,coordinates:n.coordinates,notifications:n.notifications}),ei(new window.naver.maps.LatLng(n.coordinates[1],n.coordinates[0]))),k(!1),ek(a)},children:"저장"})]})]})]})),D&&("add"===J||"edit"===J||"panel"===J)&&eN((0,a.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"bg-white rounded-lg shadow-xl max-w-md w-full animate-scaleIn flex flex-col max-h-[calc(100vh-8rem)] location-search-modal-content",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 flex-shrink-0",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"주소 검색"}),(0,a.jsx)("button",{onClick:()=>{B(!1),K(""),U([]),V(null)},className:"text-gray-400 hover:text-gray-500",children:(0,a.jsx)(i.yGN,{size:24})})]}),(0,a.jsxs)("div",{className:"p-6 flex flex-col flex-grow",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-4 flex-shrink-0",children:[(0,a.jsx)("input",{type:"search",value:H,onChange:e=>K(e.target.value),onKeyDown:e=>"Enter"===e.key&&eg(H),placeholder:"도로명, 지번, 건물명 검색",autoFocus:!0,className:"flex-grow w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 border placeholder-gray-400"}),(0,a.jsx)(O.$n,{type:"button",variant:"primary",onClick:()=>eg(H),disabled:X||ee,className:"flex-shrink-0",children:X||ee?"검색중...":"검색"})]}),(0,a.jsxs)("div",{className:"overflow-y-auto flex-grow",children:[(X||ee)&&(0,a.jsx)("p",{className:"text-center text-gray-500 py-4",children:"검색 중..."}),!(X||ee)&&0===q.length&&(0,a.jsx)("p",{className:"text-center text-gray-500 py-4",children:"검색 결과가 없습니다."}),!(X||ee)&&q.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"text-xs font-semibold text-gray-500 mt-2 mb-1 px-1",children:"검색 결과:"}),(0,a.jsx)("ul",{className:"divide-y divide-gray-200",children:q.map(e=>(0,a.jsxs)("li",{onClick:()=>"panel"===J?ey(e):ew(e),className:"py-3 flex items-center justify-between cursor-pointer hover:bg-gray-50 px-2",children:[(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.place_name}),(0,a.jsx)("p",{className:"text-xs text-gray-500 truncate",children:e.road_address_name||e.address_name})]}),(0,a.jsx)(O.$n,{type:"button",variant:"outline",size:"sm",className:"ml-3 flex-shrink-0",children:"선택"})]},e.temp_id||e.id))})]})]})]})]}),"panel"===J?void 0:"location-search-modal-overlay")]}),(0,a.jsx)(N,{position:"bottom-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},25806:()=>{},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},35432:(e,t,n)=>{Promise.resolve().then(n.bind(n,40068))},40068:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o,dynamic:()=>s});var a=n(12907);let s=(0,a.registerClientReference)(function(){throw Error("Attempted to call dynamic() from the server but dynamic is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/app/src/app/location/page.tsx","dynamic"),o=(0,a.registerClientReference)(function(){throw Error("Attempted to call the default export of \"/app/src/app/location/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/app/src/app/location/page.tsx","default")},55067:(e,t,n)=>{Promise.resolve().then(n.bind(n,87343))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65683:(e,t,n)=>{Promise.resolve().then(n.bind(n,69921))},69921:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(60687),s=n(52639),o=n(43210);function r({children:e}){return(0,a.jsx)(o.Suspense,{fallback:(0,a.jsx)("div",{children:"Loading..."}),children:(0,a.jsx)(s.e7,{children:e})})}},87343:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});let a=(0,n(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/app/src/app/location/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/app/src/app/location/layout.tsx","default")},98984:(e,t,n)=>{Promise.resolve().then(n.bind(n,18974))}};var t=require("../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),a=t.X(0,[447,929,19,587,5,111],()=>n(18139));module.exports=a})();